"use strict";(function(J){var C="ontouchend" in document,O={click:"click",start:C?"touchstart":"mousedown",move:C?"touchmove":"mousemove",end:C?"touchend":"mouseup"};var W=(function(){var ae=document.createElement("div"),ad=ae.style,Z=["WebkitT","MozT","MsT"],ab="",ac=0,aa=3,Y="";for(ac;ac<aa;ac++){ab=Z[ac];if(typeof ad[ab+"ransform"]!=="undefined"){Y="-"+ab.replace("T","").toLowerCase()+"-";break}}return Y}());var o={unlimit:true,ctrlBtn:true,indexBtn:true,offset:0,index:0,dir:"h",autoPlay:false,duration:5000,bounce:true,drag:true,indexBind:true,noAnimate:false,animation:"ease-out-back"};function t(Y){return J.extend({},o,Y)}function k(Y,ab,aa){var Z={};if(!aa){Z[W+"transform"]="translate3d("+ab+"px, 0, 0)"}else{Z[W+"transform"]="translate3d(0, "+ab+"px, 0)"}Y.css(Z)}var r={"ease-out-back":function(Z,Y,ac,ab){var aa=1.70158;return ac*((Z=Z/ab-1)*Z*((aa+1)*Z+aa)+1)+Y},"linear":function(Z,Y,ab,aa){return Z/aa*ab+Y}};function R(Y){J.extend(r,Y)}function u(ag){var aa=ag.start||0,ad=ag.end||0,ai=ag.dom,ab=ag.time,Y=ad-aa,af=aa,Z=10,ac=0,ah=this.isVertical,ae=this;if(this._aniTimer){clearInterval(this._aniTimer)}this._animating=true;this._aniTimer=setInterval(function(){if(r[ae.cfg.animation]){af=r[ae.cfg.animation](ac,aa,Y,ab)}else{af=r.linear(ac,aa,Y,ab)}k(ai,af,ah);this.moveingDist=af;ac+=Z;if(ac>=ab){clearInterval(ae._aniTimer);k(ai,ad,ah);ag.cb&&ag.cb.apply(ae);ae._animating=false;ae.cfg.onChange&&ae.cfg.onChange.apply(ae)}},Z)}function P(){if(this._animating){clearInterval(this._aniTimer);this._animating=false;L.apply(this)}}function q(aa,Y,Z){u.call(this,{dom:this.jBox,start:aa,end:Y,time:Z||300,cb:L})}function X(Z,Y){var aa=this;Z.on(O.click,function(){aa.prev()});Y.on(O.click,function(){aa.next()});this.jPrevBtn=Z;this.jNextBtn=Y}function I(){var ac=0,aa=this.jItems,Y=aa.length,ab='<ol class="slider-steps">',ae=this.cfg.indexFormat,ad=this,Z=null;for(ac;ac<Y;ac++){ab+='<li class="step">'+(ae?ae.call(ad,ac):ac)+"</li>"}ab+="</ol>";this.jWrapper.append(ab);if(this.cfg.indexBind){Z=this.jWrapper.find(".slider-steps").on(O.click,".step",function(){var af=Z.find(".step").index(J(this));ad.moveTo(af)})}else{Z=this.jWrapper.find(".slider-steps")}this.jSteps=Z}function A(){var ac='<div class="slider-wrapper"><div class="slider-content"></div></div>',ad=this.cfg,ab=this.jBox,af=null,Z=null,ae=null,aa=0,ah=0,ai=1,ag=ad.dir==="h"?false:true;this.isVertical=ag;if(this.jWrapper){var Y=J("<div></div>");Y.append(ab);this.jWrapper.after(ab);this.jWrapper.remove();delete this.jWrapper}ab.wrap(ac);this.jWrapper=Z=ab.closest(".slider-wrapper");this.jItems=af=ab.children();this.jContent=ae=Z.find(".slider-content");if(ad.ctrlBtn){Z.append('<div class="slider-control"><span class="prev"><span class="prev-s"></span></span><span class="next"><span class="next-s"></span></span></div>');X.call(this,Z.find(".prev"),Z.find(".next"));this.jCtrl=this.jWrapper.find(".slider-control")}if(af.length>1){if(ad.indexBtn){I.apply(this)}if(ad.unlimit){ab.append(af.clone());ai=2;if(af.length===2){ab.append(af.clone());ai=3}this.jItems=af=ab.children()}this.multiple=ai;this.realLength=af.length/ai;this.itemWidth=aa=af.width();this.itemHeight=ah=af.height();if(!ag){this.jItems.width(aa);ab.width(aa*af.length);this.boxWidth=Math.ceil(ab.width()/ai);ae.height(ab.height());this.rangeWidth=this.boxWidth-this.jWrapper.width()+ad.offset;this.currentLeft=ad.index*this.itemWidth}else{this.jItems.height(ah);ab.height(ah*af.length);this.boxHeight=Math.ceil(ab.height()/ai);ae.width(ab.width()).height(ah);this.rangeHeight=this.boxHeight-this.jWrapper.height()+ad.offset;this.currentTop=ad.index*this.itemHeight}this.moveTo(ad.index,true)}else{this.multiple=1;this.itemWidth=aa=af.width();this.itemHeight=ah=af.height();this.realLength=1;if(!ag){ab.width(aa);ae.height(ab.height());this.boxWidth=aa;this.rangeWidth=0;Z.addClass("slider-no-effect");this.currentLeft=0;this.moveTo(0,true)}else{ab.height(ah);ae.width(ab.width());this.boxHeight=ah;this.rangeHeight=0;Z.addClass("slider-no-effect");this.currentTop=0;this.moveTo(0,true)}}}var d={},M={},Q=false,U=false,V=true,T=0,N=null,w=[],s=false,c=0;var m=function(aa){var aa=aa.originalEvent?aa.originalEvent:aa,Z=aa.touches,Y=0,ab=0;if(Z){Y=Z[0].pageX;ab=Z[0].pageY}else{Y=aa.clientX;ab=aa.clientY}return{x:Y,y:ab}};function z(Y){P.apply(this);this.touched=true;d=m(Y);Q=false;U=false;V=0;T=0;w.push(this);if(this.timer){clearTimeout(this.timer)}}function g(Y){N=w[0];if(N&&N.cfg.drag&&!N.checkLock()){if(N.touched){M=m(Y);F.call(N,N.isVertical?(M.y-d.y):(M.x-d.x));if(Q){Y.preventDefault()}}}else{w.shift()}}function l(Y){if(N){if(N.cfg.drag){d={};M={};if(Q){i.apply(N)}N.touched=false;Q=false}f.apply(N);N.moveingDist=0;N=null;w=[]}}function B(Y){if(N){N.touched=false;d={};M={};Q=false}}function h(Z,Y){if((this.isVertical&&Math.abs(Z)>Math.abs(Y))||(!this.isVertical&&Math.abs(Y)>Math.abs(Z))){w.shift();if(w.length){N=w[0];h.call(N,Z,Y);return}else{Q=false;this.touched=false}}else{Q=true}U=true}function F(Y){if(!U){h.call(this,M.x-d.x,M.y-d.y);return}V=Y>0;if(V&&this.checkLockPrev()){Y=0}if(!V&&this.checkLockNext()){Y=0}T=Y;v.call(this,Y)}function v(ab){var aa=this.isVertical,Z=aa?this.currentTop:this.currentLeft,Y=aa?this.rangeHeight:this.rangeWidth;var ab=Z+ab;if(!this.cfg.bounce&&!this.cfg.unlimit){ab=Math.min(0,Math.max(ab,-1*Y))}k(this.jBox,ab,aa);this.moveingDist=ab}function i(){var ae=this.isVertical,Y=this.currentIndex,ab=ae?this.itemHeight:this.itemWidth,Z=this.jItems.length,ad=this.realLength,ac=Math.abs(T),aa=0;if(V===0){return}if(this.cfg.unlimit){V?this.prev():this.next()}else{if(ac>ab/4){aa=(V?-1:1)*Math.ceil(ac/ab)}Y=Y+aa;Y=Math.max(0,Math.min(Y,this.realLength-1));this.moveTo(Y)}}function x(){var Z=this.currentIndex,ab=this.cfg,aa=this.realLength,ac=this.jPrevBtn,Y=this.jNextBtn;if(!ab.unlimit){if(Z===0){ac.addClass("disable")}else{ac.removeClass("disable")}if(Z===aa-1){Y.addClass("disable")}else{Y.removeClass("disable")}}else{if(aa===1){ac.addClass("disable");Y.addClass("disable")}}}function E(){var Z=this.currentIndex,ab=this.cfg,aa=this.realLength,ac=this.jPrevBtn,Y=this.jNextBtn;this.jSteps.find(".step").removeClass("current").eq(Z%aa).addClass("current")}function a(){return this.currentIndex%this.realLength}function f(){var Z=this,Y=this.cfg;if(Y.autoPlay){if(this.timer){clearTimeout(this.timer)}this.timer=setTimeout(function(){var aa=Z.currentIndex+1;if(Z.cfg.unlimit){Z.moveTo(aa)}else{aa=aa%Z.realLength;Z.moveTo(aa)}f.apply(Z)},this.cfg.duration)}}function L(){var Y,aa,Z;if(this.cfg.unlimit&&!this.touched){Y=this.currentIndex;aa=this.realLength;Z=this.jItems.length;if(aa>1){if(Y<=1){Y=aa+1;this.setIndexTo(Y)}else{if(Y>=Z-2){Y=Z-2-aa;this.setIndexTo(Y)}}}}}function p(ah,Y){var ag=this.isVertical,Z=this.jItems.length,af=ag?this.itemHeight:this.itemWidth,ab=ag?this.rangeHeight:this.rangeWidth,aa=this.cfg.offset,ai=this.multiple,ad=this.realLength,ae=0,ac=this;if(this.cfg.unlimit){if(ad>1){if(ah<=0){ah=ad;this.setIndexTo(ah+1)}else{if(ah>=Z-1){ah=Z-1-ad;this.setIndexTo(ah-1)}}ae=-1*ah*af+aa}else{ah=0;ae=aa}}else{ah=ah%Z;ae=Math.max(-1*ah*af+aa,-1*ab)}if(!Y&&!this.cfg.noAnimate){q.call(this,this.touched?this.moveingDist:(ag?this.currentTop:this.currentLeft),ae)}else{q.call(this,ae,ae,0)}this.currentIndex=ah;this[ag?"currentTop":"currentLeft"]=ae;if(this.jSteps){E.apply(this)}if(this.cfg.ctrlBtn){x.apply(this)}f.apply(this)}function b(Y){var ad=this.isVertical,ae=this.jWrapper,Z=this.jItems.length,aa=ad?this.itemHeight:this.itemWidth,ac=this.cfg.offset,ab=0;if(Y.toString()==="NaN"){return}Y=parseInt(Y,10)%Z;ab=-1*Y*aa+ac;k(this.jBox,ab,ad);this.currentIndex=Y;this[ad?"currentTop":"currentLeft"]=ab}function H(){var Y=this.currentIndex-1;var Z=this.checkLock()||this.checkLockPrev();if(Z){return}if(this.cfg.unlimit){this.moveTo(Y)}else{if(Y<0){return}this.moveTo(Y)}}function e(){var Y=this.currentIndex+1;var Z=this.checkLock()||this.checkLockNext();if(Z){return}if(this.cfg.unlimit){this.moveTo(Y)}else{if(Y>=this.realLength){return}this.moveTo(Y)}}function y(Y){if(this.cfg.unlimit===true){D.apply(this)}this.cfg=t(J.extend(this.cfg,Y||{}));if(this.timer){clearTimeout(this.timer)}c--;S.apply(this)}function D(){var Y=this.realLength-1;this.jItems.each(function(Z,aa){if(Z>Y){J(aa).remove()}})}function n(){var Y="";this.jWrapper.remove();for(Y in this){delete this[Y]}this.__proto__=null;c--;if(c===0){K()}}function j(){var Y=this;this.jContent.on(O.start,function(Z){z.call(Y,Z)});if(!s){J(document).on(O.move,g).on(O.end,l);s=true}}function K(){J(document).off(O.move,g).off(O.end,l);s=false}function S(){this.currentIndex=this.cfg.index;if(this.cfg.extendAnimate){R(this.cfg.extendAnimate)}A.apply(this);j.apply(this);f.apply(this);c++}function G(ac,ag){this.jBox=J(ac);this.cfg=t(ag||{});var Y=false;function aa(){return Y}function ai(){Y=true}function ak(){Y=false}this.checkLock=aa;this.lock=ai;this.unlock=ak;var ae=false,aj=false;function Z(){return ae}function ab(){return aj}function af(){ae=true}function ad(){ae=false}function al(){aj=true}function ah(){aj=false}this.checkLockPrev=Z;this.lockPrev=af;this.unlockPrev=ad;this.checkLockNext=ab;this.lockNext=al;this.unlockNext=ah;S.apply(this);return this}G.prototype=(function(){return{prev:H,next:e,setIndexTo:b,moveTo:p,getIndex:a,refresh:y,destroy:n}}());if(typeof define==="function"&&define.amd){define([],function(){return G})}else{if(typeof module!=="undefined"&&module.exports){module.exports=G}else{window.NiceSlider=G}}}(window.jQuery||window.Zepto));